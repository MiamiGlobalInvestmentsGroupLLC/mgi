import { NextRequest } from 'next/server'; import { prisma } from '@/lib/prisma'; export const runtime='nodejs'; export async function POST(req:NextRequest){ const cid=req.cookies.get('companyId')?.value; if(!cid) return new Response(JSON.stringify({error:'NO_AUTH'}),{status:401}); const { suggested } = await req.json(); const arr = Array.isArray(suggested)? suggested.slice(0,6):[]; const c=await prisma.company.update({where:{id:cid}, data:{suggested: arr as any}}); return new Response(JSON.stringify({ok:true,company:c}),{headers:{'Content-Type':'application/json'}});}